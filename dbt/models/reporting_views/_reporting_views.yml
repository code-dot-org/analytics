models: 
  - name: afe_template_sy2024_25
    description: |
      used for AFE's engagement reporting, following their template, to be used in Tableau. 
    
    config:
      tags: ['reporting']

  - name: view_course_utilization_units
    description: |
      Activity by student and unit, used for the Course Utilization Tableau dashboard. 
    
    config:
      tags: ['reporting', 'tableau']

  - name: view_course_utilization_unit_combinations
    description: |
      Combination of units engaged with by each section, used for the Course Utilization Tableau dashboard, Unit Combinations viz. 
    
    config:
      tags: ['reporting', 'tableau']

  - name: view_course_utilization_by_script_level
    description: |
      Activity by section, script and level, used for the Course Utilization Tableau dashboard, Course Utilization by Script, Stage, Level viz. 
    
    config:
      tags: ['reporting', 'tableau']


  - name: view_student_course_participation
    description: |
      Students starting a course in a school year for Course Participation dashboard in Tableau. Includes student-facing curriculum, along with sdtuent demographics and school characteristics.
   
    config:
      tags: ['reporting', 'tableau']


## Daily curriculum student users
  - name: daily_curriculum_student_users
    description: |
      Daily count of curriculum students as defined by 2030 goals for all countries. "Curriculum student users" have 5+ days of content in a HS course or standalone unit or 1+ day of content in a MS or ES course. This view incorporates the adjustment for ES.
    columns:
      - name: school_year
        description: school year in format YYYY-YY
        data_tests:
          - not_null
      - name: qualifying_date
        description: date at which that student met the qualifying criteria
        data_tests:
          - not_null
      - name: week_number
        description: ISO week number
      - name: n_students
        description: number of unique students meeting at least 1+ day of curriculum
      - name: n_students_adj
        description: number of unique students meeting at least 1+ day of curriculum, with the adjustment to include 40% expected anonymous students
      - name: n_students_hs
        description: school year to date counts for that school year for HS
        data_tests:
          - not_null
      - name: n_students_ms
        description: school year to date counts for that school year for MS
        data_tests:
          - not_null
      - name: n_students_es
        description: school year to date counts for that school year for ES (NOT adjusted). External reporting should use this number. 
        data_tests:
          - not_null
      - name: n_students_es_adj
        description: school year to date counts for that school year for ES, adjusted to account for expected 40% anonymous. Code.org goals should use the adjusted number for ES. External reporting should not use this number. 
        data_tests:
          - not_null
    config:
      tags: ['released','reporting']

  ## Yearly curriculum student users
  - name: yearly_curriculum_student_users
    description: |
      Annual count of curriculum students as defined by 2030 goals. "Curriculum student users" have 5+ days of content in a HS course or standalone unit or 1+ day of content in a MS or ES course. This view incorporates the adjustment for ES. Note that gender and URG counts are NULL for non-US countries.
    columns:
      - name: school_year
        description: school year in format YYYY-YY
        data_tests:
          - not_null
      - name: n_students
        description: number of unique students meeting at least 1+ day of curriculum
      - name: n_students_adj
        description: number of unique students meeting at least 1+ day of curriculum, with the adjustment to include 40% expected anonymous students
      - name: n_students_hs
        description: school year to date counts for that school year for HS
        data_tests:
          - not_null
      - name: n_students_ms
        description: school year to date counts for that school year for MS
        data_tests:
          - not_null
      - name: n_students_es
        description: school year to date counts for that school year for ES (NOT adjusted). External reporting should use this number. 
        data_tests:
          - not_null
      - name: n_students_es_adj
        description: school year to date counts for that school year for ES, adjusted to account for expected 40% anonymous. Code.org goals should use the adjusted number for ES. External reporting should not use this number. 
        data_tests:
          - not_null
      - name: n_students_hs_f
        description: imputation of number of female students, based on self-reported data for HS
      - name: n_students_hs_urg
        description: imputation of number of URG students, based on self-reported data for HS
      - name: n_students_ms_f
        description: imputation of number of female students, based on self-reported data for MS
      - name: n_students_ms_urg
        description: imputation of number of URG students, based on self-reported data for MS
    config:
      tags: ['released']


  - name: testing 
    