version: 2

models:
  - name: dim_hoc_starts
    description: |
      this model contains 1 row for every URL hit of an HoC activity, regardless of whether the user was signed in or the user was on a 3rd party site.   
          
      note-- if you'd like to explore only signed-in hoc usage, you can use use dim_student_script_level_activity

    columns:
      - name: hoc_start_id
        data_tests: 
          - not_null
          - unique
      - name: started_at
        description: the timestamp for the URL hit  
      - name: cal_year
        description: the calendar year associated with the HoC activity    
      - name: school_year
        description: the school year associated with the HoC activity 
      - name: referer 
      - name: company 
      - name: tutorial
      - name: is_third_party
        description: 1 if the URL hit was from a third party site with pixel tracking, 0 otherwise
      - name: city
        description: the city associated with the user's location
      - name: country 
        description: the country associated with the user's location
      - name: state
        description: the state associated with the user's location
      - name: country_code
      - name: state_code
    config:
      tags: ['released']
 
  - name: dim_hoc_event_registrations 
    description: | 
      This model has 1 row for every HoC event registered via our form and 1 row for every prospect 
      in Pardot for the 2024 HOC year
    columns: 
      - name: registration_id
        description: |
          This model has 1 row for every HoC event registered via our form (2014 - 2023) or pardot (2024)
        
        data_tests:
          - not_null 
          - unique
          
      # may bring this in later
      # - name: email
      #   description: the email associated with the person registering the event
      
      - name: cal_year
        description: the calendar year associated with the HoC year they are registering for
      
      - name: school_year 
        description: the school year associated with the HoC year they are registering for
      
      - name: registered_at 
        description: timestamp of when the registration form was submitted 
      
      - name: registered_dt 
        description: registration date of registration form submitted or prospect created in pardot
      - name: city
      - name: state
      - name: country
      - name: num_registrations
        description: distinct count of form or prospect id's for a given day
    config:
      tags: ['released']
